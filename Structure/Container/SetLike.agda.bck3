module Structure.Container.SetLike where

open import Data.Boolean
open import Data.Boolean.Stmt
open import Functional
open import Functional.Instance
import      Lvl
open import Logic
open import Logic.Propositional
open import Logic.Predicate
open import Structure.Setoid renaming (_â‰¡_ to _â‰¡â‚›_ ; _â‰¢_ to _â‰¢â‚›_)
open import Structure.Function.Domain
open import Structure.Function
open import Structure.Operator
open import Structure.Relator.Equivalence
open import Structure.Relator.Properties
open import Structure.Relator hiding (module Names)
open import Type.Properties.Inhabited
open import Type

private variable â„“ â„“â‚ â„“â‚‚ â„“â‚ƒ â„“â‚„ â„“â‚… â„“â‚† â„“â‚‡ â„“â‚ˆ â„“â‚‰ â„“â‚â‚€ â„“â‚— â„“â‚—â‚ â„“â‚—â‚‚ â„“â‚—â‚ƒ : Lvl.Level
private variable A B C Câ‚ Câ‚‚ Câ‚’ Cáµ¢ E Eâ‚ Eâ‚‚ : Type{â„“}
private variable _âˆˆ_ _âˆˆâ‚’_ _âˆˆáµ¢_ : E â†’ C

module _ {C : Type{â„“â‚}} {E : Type{â„“â‚‚}} (_âˆˆ_ : E â†’ C â†’ Stmt{â„“â‚ƒ}) where -- TODO: Maybe generalize C so that it becomes "indexed": `(C : (i : I) â†’ Type{â„“â‚(i)})`? Is it neccessary? Which set-like structures does not fit with the definitions below?
  record SetLike : Type{â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ Lvl.âŠ” Lvl.ğ’(â„“â‚„ Lvl.âŠ” â„“â‚…)} where
    field
      _âŠ†_ : C â†’ C â†’ Stmt{â„“â‚„}
      _â‰¡_ : C â†’ C â†’ Stmt{â„“â‚…}

    field
      [âŠ†]-membership : âˆ€{a b} â†’ (a âŠ† b) â†” (âˆ€{x} â†’ (x âˆˆ a) â†’ (x âˆˆ b))
      [â‰¡]-membership : âˆ€{a b} â†’ (a â‰¡ b) â†” (âˆ€{x} â†’ (x âˆˆ a) â†” (x âˆˆ b))

    _âˆ‹_ : C â†’ E â†’ Stmt
    _âˆ‹_ = swap(_âˆˆ_)

    _âŠ‡_ : C â†’ C â†’ Stmt
    _âŠ‡_ = swap(_âŠ†_)

    _âˆ‰_ : E â†’ C â†’ Stmt
    _âˆ‰_ = (Â¬_) âˆ˜â‚‚ (_âˆˆ_)

    _âŠˆ_ : C â†’ C â†’ Stmt
    _âŠˆ_ = (Â¬_) âˆ˜â‚‚ (_âŠ†_)

    _âŠ‰_ : C â†’ C â†’ Stmt
    _âŠ‰_ = (Â¬_) âˆ˜â‚‚ (_âŠ‡_)

    _â‰¢_ : C â†’ C â†’ Stmt
    _â‰¢_ = (Â¬_) âˆ˜â‚‚ (_â‰¡_)

  -- A type such that its inhabitants is the elements of the set `S`.
  SetElement : C â†’ Stmt
  SetElement(S) = âˆƒ(_âˆˆ S)

  module FunctionProperties where
    module Names where
      _closed-underâ‚_ : C â†’ (E â†’ E) â†’ Stmt -- TODO: Maybe possible to generalize over n
      S closed-underâ‚ f = (âˆ€{x} â†’ (x âˆˆ S) â†’ (f(x) âˆˆ S))

      _closed-underâ‚‚_ : C â†’ (E â†’ E â†’ E) â†’ Stmt
      S closed-underâ‚‚ (_â–«_) = (âˆ€{x y} â†’ (x âˆˆ S) â†’ (y âˆˆ S) â†’ ((x â–« y) âˆˆ S))

    open import Functional.Instance
    module _ (S : C) (f : E â†’ E) where
      record _closed-underâ‚_ : Stmt{Lvl.of(S Names.closed-underâ‚ f)} where
        constructor intro
        field proof : S Names.closed-underâ‚ f
      _closureUnderâ‚_ = inferArg _closed-underâ‚_.proof

    module _ (S : C) (_â–«_ : E â†’ E â†’ E) where
      record _closed-underâ‚‚_ : Stmt{Lvl.of(S Names.closed-underâ‚‚ (_â–«_))} where
        constructor intro
        field proof : S Names.closed-underâ‚‚ (_â–«_)
      _closureUnderâ‚‚_ = inferArg _closed-underâ‚‚_.proof

module Names where
  module _ (_âˆˆ_ : _) â¦ƒ setLike : SetLike{â„“â‚}{â„“â‚‚}{â„“â‚ƒ}{C}{E} (_âˆˆ_) {â„“â‚„}{â„“â‚…} â¦„ where
    open SetLike(setLike)

    EmptySet : C â†’ Type
    EmptySet(âˆ…) = âˆ€{x} â†’ (x âˆ‰ âˆ…)

    UniversalSet : C â†’ Type
    UniversalSet(ğ”) = âˆ€{x} â†’ (x âˆˆ ğ”)

    UnionOperator : (C â†’ C â†’ C) â†’ Type
    UnionOperator(_âˆª_) = âˆ€{a b}{x} â†’ (x âˆˆ (a âˆª b)) â†” ((x âˆˆ a) âˆ¨ (x âˆˆ b))

    IntersectionOperator : (C â†’ C â†’ C) â†’ Type
    IntersectionOperator(_âˆ©_) = âˆ€{a b}{x} â†’ (x âˆˆ (a âˆ© b)) â†” ((x âˆˆ a) âˆ§ (x âˆˆ b))

    WithoutOperator : (C â†’ C â†’ C) â†’ Type
    WithoutOperator(_âˆ–_) = âˆ€{a b}{x} â†’ (x âˆˆ (a âˆ– b)) â†” ((x âˆˆ a) âˆ§ (x âˆ‰ b))

    ComplementOperator : (C â†’ C) â†’ Type
    ComplementOperator(âˆ) = âˆ€{a}{x} â†’ (x âˆˆ (âˆ a)) â†” (x âˆ‰ a)

    module _ {I : Type{â„“}} â¦ƒ equiv-I : Equiv{â„“â‚—â‚}(I) â¦„ â¦ƒ equiv-E : Equiv{â„“â‚—â‚‚}(E) â¦„ where
      ImageOperator : ((f : I â†’ E) â†’ â¦ƒ func : Function(f) â¦„ â†’ C) â†’ Type
      ImageOperator(âŠ¶) = âˆ€{f} â¦ƒ func : Function(f) â¦„ â†’ âˆ€{y} â†’ (y âˆˆ (âŠ¶ f)) â†” âˆƒ(x â†¦ f(x) â‰¡â‚› y)

    module _ â¦ƒ equiv-E : Equiv{â„“â‚—}(E) â¦„ where
      SingletonSet : (E â†’ C) â†’ Type
      SingletonSet(singleton) = âˆ€{y}{x} â†’ (x âˆˆ singleton(y)) â†” (x â‰¡â‚› y)

      PairSet : (E â†’ E â†’ C) â†’ Type
      PairSet(pair) = âˆ€{yâ‚ yâ‚‚}{x} â†’ (x âˆˆ pair yâ‚ yâ‚‚) â†” (x â‰¡â‚› yâ‚)âˆ¨(x â‰¡â‚› yâ‚‚)

      AddFunction : (E â†’ C â†’ C) â†’ Type
      AddFunction(add) = âˆ€{y}{a}{x} â†’ (x âˆˆ add y a) â†” ((x âˆˆ a) âˆ¨ (x â‰¡â‚› y))

      RemoveFunction : (E â†’ C â†’ C) â†’ Type
      RemoveFunction(remove) = âˆ€{y}{a}{x} â†’ (x âˆˆ remove y a) â†” ((x âˆˆ a) âˆ§ (x â‰¢â‚› y))

      FilterFunction : ((P : E â†’ Stmt{â„“}) â¦ƒ unaryRelator : UnaryRelator(P) â¦„ â†’ (C â†’ C)) â†’ Type
      FilterFunction(filter) = âˆ€{A}{P} â¦ƒ unaryRelator : UnaryRelator(P) â¦„ {x} â†’ (x âˆˆ filter P(A)) â†” ((x âˆˆ A) âˆ§ P(x))

      BooleanFilterFunction : ((E â†’ Bool) â†’ (C â†’ C)) â†’ Type
      BooleanFilterFunction(boolFilter) = âˆ€{A}{P}{x} â†’ (x âˆˆ boolFilter P(A)) â†” ((x âˆˆ A) âˆ§ IsTrue(P(x)))

  module _ (_âˆˆ_ : _) â¦ƒ setLike : SetLike{â„“â‚}{â„“â‚‚}{â„“â‚ƒ}{C}{E} (_âˆˆ_) {â„“â‚„}{â„“â‚…} â¦„ â¦ƒ equiv-E : Equiv{â„“â‚—â‚}(E) â¦„ {O : Type{â„“â‚†}} â¦ƒ equiv-O : Equiv{â„“â‚—â‚‚}(O) â¦„ where
    UnapplyFunction : ((f : E â†’ O) â¦ƒ func : Function(f) â¦„ â†’ O â†’ C) â†’ Type
    UnapplyFunction(unapply) = âˆ€{f} â¦ƒ func : Function(f) â¦„ {y}{x} â†’ (x âˆˆ unapply f(y)) â†” (f(x) â‰¡â‚› y)

  module _
    â¦ƒ equiv-Eâ‚ : Equiv{â„“â‚—â‚}(Eâ‚) â¦„
    (_âˆˆâ‚_ : _) â¦ƒ setLikeâ‚ : SetLike{â„“â‚}{â„“â‚‚}{â„“â‚ƒ}{Câ‚}{Eâ‚} (_âˆˆâ‚_) {â„“â‚„}{â„“â‚…} â¦„
    â¦ƒ equiv-Eâ‚‚ : Equiv{â„“â‚—â‚‚}(Eâ‚‚) â¦„
    (_âˆˆâ‚‚_ : _) â¦ƒ setLikeâ‚‚ : SetLike{â„“â‚†}{â„“â‚‡}{â„“â‚ˆ}{Câ‚‚}{Eâ‚‚} (_âˆˆâ‚‚_) {â„“â‚‰}{â„“â‚â‚€} â¦„
    where

    open SetLike â¦ƒ â€¦ â¦„

    MapFunction : ((f : Eâ‚ â†’ Eâ‚‚) â¦ƒ func : Function(f) â¦„ â†’ (Câ‚ â†’ Câ‚‚)) â†’ Type
    MapFunction(map) = âˆ€{f} â¦ƒ func : Function(f) â¦„ {A}{y} â†’ (y âˆˆâ‚‚ map f(A)) â†” âˆƒ(x â†¦ (x âˆˆâ‚ A) âˆ§ (f(x) â‰¡â‚› y))

    UnmapFunction : ((f : Eâ‚ â†’ Eâ‚‚) â¦ƒ func : Function(f) â¦„ â†’ (Câ‚‚ â†’ Câ‚)) â†’ Type
    UnmapFunction(unmap) = âˆ€{f} â¦ƒ func : Function(f) â¦„ {A}{x} â†’ (x âˆˆâ‚ unmap f(A)) â†” (f(x) âˆˆâ‚‚ A)

  module _ (_âˆˆâ‚’_ : _) â¦ƒ outer-setLike : SetLike{â„“â‚}{â„“â‚‚}{â„“â‚ƒ}{Câ‚’}{Cáµ¢} (_âˆˆâ‚’_) {â„“â‚„}{â„“â‚…} â¦„ (_âˆˆáµ¢_ : _) â¦ƒ inner-setLike : SetLike{â„“â‚‚}{â„“â‚†}{â„“â‚‡}{Cáµ¢}{E} (_âˆˆáµ¢_) {â„“â‚ˆ}{â„“â‚‰} â¦„ where
    open SetLike â¦ƒ â€¦ â¦„

    PowerFunction : (Cáµ¢ â†’ Câ‚’) â†’ Type
    PowerFunction(â„˜) = âˆ€{A x} â†’ (x âˆˆâ‚’ â„˜(A)) â†” (x âŠ† A)

    BigUnionOperator : (Câ‚’ â†’ Cáµ¢) â†’ Type
    BigUnionOperator(â‹ƒ) = âˆ€{A}{x} â†’ (x âˆˆáµ¢ (â‹ƒ A)) â†” âˆƒ(a â†¦ (a âˆˆâ‚’ A) âˆ§ (x âˆˆáµ¢ a))

    BigIntersectionOperator : (Câ‚’ â†’ Cáµ¢) â†’ Type
    BigIntersectionOperator(â‹‚) = âˆ€{A} â†’ âˆƒ(_âˆˆâ‚’ A) â†’ âˆ€{x} â†’ (x âˆˆáµ¢ (â‹‚ A)) â†” (âˆ€{a} â†’ (a âˆˆâ‚’ A) â†’ (x âˆˆáµ¢ a))

  module _ {I : Type{â„“}} â¦ƒ equiv-I : Equiv{â„“â‚—â‚}(I) â¦„ â¦ƒ equiv-E : Equiv{â„“â‚—â‚‚}(E) â¦„ (_âˆˆ_ : _) â¦ƒ setLike : SetLike{â„“â‚}{â„“â‚‚}{â„“â‚ƒ}{C}{E} (_âˆˆ_) {â„“â‚„}{â„“â‚…} â¦„ where
    IndexedBigUnionOperator  : ((I â†’ C) â†’ C) â†’ Type
    IndexedBigUnionOperator(â‹ƒáµ¢) = âˆ€{Ai}{x} â†’ (x âˆˆ (â‹ƒáµ¢ Ai)) â†” âˆƒ(i â†¦ (x âˆˆ Ai(i)))

    IndexedBigIntersectionOperator : ((I â†’ C) â†’ C) â†’ Type
    IndexedBigIntersectionOperator(â‹‚áµ¢) = âˆ€{Ai} â†’ â—Š(I) â†’ âˆ€{x} â†’ (x âˆˆ (â‹‚áµ¢ Ai)) â†” (âˆ€{i} â†’ (x âˆˆ Ai(i)))

module _ (_âˆˆ_ : _) â¦ƒ setLike : SetLike{â„“â‚}{â„“â‚‚}{â„“â‚ƒ}{C}{E} (_âˆˆ_) {â„“â‚„}{â„“â‚…} â¦„ where
  open SetLike(setLike)

  record EmptySet(âˆ… : C) : Type{â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ} where
    constructor intro
    field membership : Names.EmptySet(_âˆˆ_)(âˆ…)

  record UniversalSet(ğ” : C) : Type{â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ} where
    constructor intro
    field membership : Names.UniversalSet(_âˆˆ_)(ğ”)

  record UnionOperator(_âˆª_ : C â†’ C â†’ C) : Type{â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ} where
    constructor intro
    field membership : Names.UnionOperator(_âˆˆ_)(_âˆª_)

  record IntersectionOperator(_âˆ©_ : C â†’ C â†’ C) : Type{â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ} where
    constructor intro
    field membership : Names.IntersectionOperator(_âˆˆ_)(_âˆ©_)

  record WithoutOperator(_âˆ–_ : C â†’ C â†’ C) : Type{â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ} where
    constructor intro
    field membership : Names.WithoutOperator(_âˆˆ_)(_âˆ–_)

  record ComplementOperator(âˆ : C â†’ C) : Type{â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ} where
    constructor intro
    field membership : Names.ComplementOperator(_âˆˆ_)(âˆ)

  module _ {I : Type{â„“}} â¦ƒ equiv-I : Equiv{â„“â‚—â‚}(I) â¦„ â¦ƒ equiv-E : Equiv{â„“â‚—â‚‚}(E) â¦„ where
    record ImageOperator(âŠ¶ : (f : I â†’ E) â†’ â¦ƒ func : Function(f) â¦„ â†’ C) : Type{â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ Lvl.âŠ” â„“ Lvl.âŠ” â„“â‚—â‚ Lvl.âŠ” â„“â‚—â‚‚} where
      constructor intro
      field membership : Names.ImageOperator(_âˆˆ_)(âŠ¶)

  module _ â¦ƒ equiv-E : Equiv{â„“â‚—}(E) â¦„ where
    record SingletonSet(singleton : E â†’ C) : Type{â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ Lvl.âŠ” â„“â‚—} where
      constructor intro
      field membership : Names.SingletonSet(_âˆˆ_)(singleton)

    record PairSet(pair : E â†’ E â†’ C) : Type{â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ Lvl.âŠ” â„“â‚—} where
      constructor intro
      field membership : Names.PairSet(_âˆˆ_)(pair)

    record AddFunction(add : E â†’ C â†’ C) : Type{â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ Lvl.âŠ” â„“â‚—} where
      constructor intro
      field membership : Names.AddFunction(_âˆˆ_)(add)

    record RemoveFunction(remove : E â†’ C â†’ C) : Type{â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ Lvl.âŠ” â„“â‚—} where
      constructor intro
      field membership : Names.RemoveFunction(_âˆˆ_)(remove)

    module _ {â„“} where
      record FilterFunction(filter : (P : E â†’ Stmt{â„“}) â¦ƒ unaryRelator : UnaryRelator(P) â¦„ â†’ (C â†’ C)) : Type{â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ Lvl.âŠ” Lvl.ğ’(â„“) Lvl.âŠ” â„“â‚—} where
        constructor intro
        field membership : Names.FilterFunction(_âˆˆ_)(filter)

    record BooleanFilterFunction(boolFilter : (E â†’ Bool) â†’ (C â†’ C)) : Type{â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ} where
      constructor intro
      field membership : Names.BooleanFilterFunction(_âˆˆ_)(boolFilter)

module _ (_âˆˆ_ : _) â¦ƒ setLike : SetLike{â„“â‚}{â„“â‚‚}{â„“â‚ƒ}{C}{E} (_âˆˆ_) {â„“â‚„}{â„“â‚…} â¦„ â¦ƒ equiv-E : Equiv{â„“â‚—â‚}(E) â¦„ {O : Type{â„“â‚†}} â¦ƒ equiv-O : Equiv{â„“â‚—â‚‚}(O) â¦„ where
  record UnapplyFunction(unapply : (f : E â†’ O) â¦ƒ func : Function(f) â¦„ â†’ O â†’ C) : Type{â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ Lvl.âŠ” â„“â‚† Lvl.âŠ” â„“â‚—â‚ Lvl.âŠ” â„“â‚—â‚‚} where
    constructor intro
    field membership : Names.UnapplyFunction(_âˆˆ_)(unapply)

module _
  â¦ƒ equiv-Eâ‚ : Equiv{â„“â‚—â‚}(Eâ‚) â¦„
  (_âˆˆâ‚_ : _) â¦ƒ setLikeâ‚ : SetLike{â„“â‚}{â„“â‚‚}{â„“â‚ƒ}{Câ‚}{Eâ‚} (_âˆˆâ‚_) {â„“â‚„}{â„“â‚…} â¦„
  â¦ƒ equiv-Eâ‚‚ : Equiv{â„“â‚—â‚‚}(Eâ‚‚) â¦„
  (_âˆˆâ‚‚_ : _) â¦ƒ setLikeâ‚‚ : SetLike{â„“â‚†}{â„“â‚‡}{â„“â‚ˆ}{Câ‚‚}{Eâ‚‚} (_âˆˆâ‚‚_) {â„“â‚‰}{â„“â‚â‚€} â¦„
  where

  open SetLike â¦ƒ â€¦ â¦„
  record MapFunction(map : (f : Eâ‚ â†’ Eâ‚‚) â¦ƒ func : Function(f) â¦„ â†’ (Câ‚ â†’ Câ‚‚)) : Type{â„“â‚—â‚ Lvl.âŠ” â„“â‚—â‚‚ Lvl.âŠ” â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ Lvl.âŠ” â„“â‚† Lvl.âŠ” â„“â‚‡ Lvl.âŠ” â„“â‚ˆ} where
    constructor intro
    field membership : Names.MapFunction(_âˆˆâ‚_)(_âˆˆâ‚‚_)(map)

  record UnmapFunction(unmap : (f : Eâ‚ â†’ Eâ‚‚) â¦ƒ func : Function(f) â¦„ â†’ (Câ‚‚ â†’ Câ‚)) : Type{â„“â‚—â‚ Lvl.âŠ” â„“â‚—â‚‚ Lvl.âŠ” â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ Lvl.âŠ” â„“â‚† Lvl.âŠ” â„“â‚‡ Lvl.âŠ” â„“â‚ˆ} where
    constructor intro
    field membership : Names.UnmapFunction(_âˆˆâ‚_)(_âˆˆâ‚‚_)(unmap)

module _ (_âˆˆâ‚’_ : _) â¦ƒ outer-setLike : SetLike{â„“â‚}{â„“â‚‚}{â„“â‚ƒ}{Câ‚’}{Cáµ¢} (_âˆˆâ‚’_) {â„“â‚„}{â„“â‚…} â¦„ (_âˆˆáµ¢_ : _) â¦ƒ inner-setLike : SetLike{â„“â‚‚}{â„“â‚†}{â„“â‚‡}{Cáµ¢}{E} (_âˆˆáµ¢_) {â„“â‚ˆ}{â„“â‚‰} â¦„ where
  open SetLike â¦ƒ â€¦ â¦„

  record PowerFunction(â„˜ : Cáµ¢ â†’ Câ‚’) : Type{â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ Lvl.âŠ” â„“â‚ˆ} where
    constructor intro
    field membership : Names.PowerFunction(_âˆˆâ‚’_)(_âˆˆáµ¢_)(â„˜)

  record BigUnionOperator(â‹ƒ : Câ‚’ â†’ Cáµ¢) : Type{â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ Lvl.âŠ” â„“â‚† Lvl.âŠ” â„“â‚‡} where
    constructor intro
    field membership : Names.BigUnionOperator(_âˆˆâ‚’_)(_âˆˆáµ¢_)(â‹ƒ)

  record BigIntersectionOperator(â‹‚ : Câ‚’ â†’ Cáµ¢) : Type{â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ Lvl.âŠ” â„“â‚† Lvl.âŠ” â„“â‚‡} where
    constructor intro
    field membership : Names.BigIntersectionOperator(_âˆˆâ‚’_)(_âˆˆáµ¢_)(â‹‚)

module _ {I : Type{â„“}} â¦ƒ equiv-I : Equiv{â„“â‚—â‚}(I) â¦„ â¦ƒ equiv-E : Equiv{â„“â‚—â‚‚}(E) â¦„ (_âˆˆ_ : _) â¦ƒ setLike : SetLike{â„“â‚}{â„“â‚‚}{â„“â‚ƒ}{C}{E} (_âˆˆ_) {â„“â‚„}{â„“â‚…} â¦„ where
  record IndexedBigUnionOperator(â‹ƒáµ¢ : (I â†’ C) â†’ C) : Type{â„“ Lvl.âŠ” â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ} where
    constructor intro
    field membership : Names.IndexedBigUnionOperator(_âˆˆ_)(â‹ƒáµ¢)

  record IndexedBigIntersectionOperator(â‹‚áµ¢ : (I â†’ C) â†’ C) : Type{â„“ Lvl.âŠ” â„“â‚ Lvl.âŠ” â„“â‚‚ Lvl.âŠ” â„“â‚ƒ} where
    constructor intro
    field membership : Names.IndexedBigIntersectionOperator(_âˆˆ_)(â‹‚áµ¢)

module Oper where
  module _ (_âˆˆ_ : _) â¦ƒ setLike : SetLike{â„“â‚}{â„“â‚‚}{â„“â‚ƒ}{C}{E} (_âˆˆ_) {â„“â‚„}{â„“â‚…} â¦„ where
    âˆ… : â¦ƒ âˆƒ(EmptySet(_âˆˆ_)) â¦„ â†’ _
    âˆ… = inferArg [âˆƒ]-witness

    ğ” : â¦ƒ âˆƒ(UniversalSet(_âˆˆ_)) â¦„ â†’ _
    ğ” = inferArg [âˆƒ]-witness

    _âˆª_ : â¦ƒ âˆƒ(UnionOperator(_âˆˆ_)) â¦„ â†’ _
    _âˆª_ = inferArg [âˆƒ]-witness

    _âˆ©_ : â¦ƒ âˆƒ(IntersectionOperator(_âˆˆ_)) â¦„ â†’ _
    _âˆ©_ = inferArg [âˆƒ]-witness

    _âˆ–_ : â¦ƒ âˆƒ(WithoutOperator(_âˆˆ_)) â¦„ â†’ _
    _âˆ–_ = inferArg [âˆƒ]-witness

    âˆ : â¦ƒ âˆƒ(ComplementOperator(_âˆˆ_)) â¦„ â†’ _
    âˆ = inferArg [âˆƒ]-witness

    module _ {I : Type{â„“}} â¦ƒ equiv-I : Equiv{â„“â‚—â‚}(I) â¦„ â¦ƒ equiv-E : Equiv{â„“â‚—â‚‚}(E) â¦„ where
      âŠ¶ : â¦ƒ âˆƒ(ImageOperator(_âˆˆ_){I = I}) â¦„ â†’ _
      âŠ¶ = inferArg [âˆƒ]-witness

    module _ â¦ƒ equiv-E : Equiv{â„“â‚—}(E) â¦„ where
      singleton : â¦ƒ âˆƒ(SingletonSet(_âˆˆ_)) â¦„ â†’ _
      singleton = inferArg [âˆƒ]-witness

      pair : â¦ƒ âˆƒ(PairSet(_âˆˆ_)) â¦„ â†’ _
      pair = inferArg [âˆƒ]-witness

      add : â¦ƒ âˆƒ(AddFunction(_âˆˆ_)) â¦„ â†’ _
      add = inferArg [âˆƒ]-witness

      remove : â¦ƒ âˆƒ(RemoveFunction(_âˆˆ_)) â¦„ â†’ _
      remove = inferArg [âˆƒ]-witness

      module _ {â„“} where
        filter : â¦ƒ âˆƒ(FilterFunction(_âˆˆ_){â„“ = â„“}) â¦„ â†’ _
        filter = inferArg [âˆƒ]-witness

      boolFilter : â¦ƒ âˆƒ(BooleanFilterFunction(_âˆˆ_)) â¦„ â†’ _
      boolFilter = inferArg [âˆƒ]-witness

  module _ (_âˆˆ_ : _) â¦ƒ setLike : SetLike{â„“â‚}{â„“â‚‚}{â„“â‚ƒ}{C}{E} (_âˆˆ_) {â„“â‚„}{â„“â‚…} â¦„ â¦ƒ equiv-E : Equiv{â„“â‚—â‚}(E) â¦„ {O : Type{â„“â‚†}} â¦ƒ equiv-O : Equiv{â„“â‚—â‚‚}(O) â¦„ where
    unapply : â¦ƒ âˆƒ(UnapplyFunction(_âˆˆ_){O = O}) â¦„ â†’ _
    unapply = inferArg [âˆƒ]-witness

  module _
    â¦ƒ equiv-Eâ‚ : Equiv{â„“â‚—â‚}(Eâ‚) â¦„
    (_âˆˆâ‚_ : _) â¦ƒ setLikeâ‚ : SetLike{â„“â‚}{â„“â‚‚}{â„“â‚ƒ}{Câ‚}{Eâ‚} (_âˆˆâ‚_) {â„“â‚„}{â„“â‚…} â¦„
    â¦ƒ equiv-Eâ‚‚ : Equiv{â„“â‚—â‚‚}(Eâ‚‚) â¦„
    (_âˆˆâ‚‚_ : _) â¦ƒ setLikeâ‚‚ : SetLike{â„“â‚†}{â„“â‚‡}{â„“â‚ˆ}{Câ‚‚}{Eâ‚‚} (_âˆˆâ‚‚_) {â„“â‚‰}{â„“â‚â‚€} â¦„
    where

    map : â¦ƒ âˆƒ(MapFunction(_âˆˆâ‚_)(_âˆˆâ‚‚_)) â¦„ â†’ _
    map = inferArg [âˆƒ]-witness

    unmap : â¦ƒ âˆƒ(UnmapFunction(_âˆˆâ‚_)(_âˆˆâ‚‚_)) â¦„ â†’ _
    unmap = inferArg [âˆƒ]-witness

  module _ (_âˆˆâ‚’_ : _) â¦ƒ outer-setLike : SetLike{â„“â‚}{â„“â‚‚}{â„“â‚ƒ}{Câ‚’}{Cáµ¢} (_âˆˆâ‚’_) {â„“â‚„}{â„“â‚…} â¦„ (_âˆˆáµ¢_ : _) â¦ƒ inner-setLike : SetLike{â„“â‚‚}{â„“â‚†}{â„“â‚‡}{Cáµ¢}{E} (_âˆˆáµ¢_) {â„“â‚ˆ}{â„“â‚‰} â¦„ where
    â„˜ : â¦ƒ âˆƒ(PowerFunction(_âˆˆâ‚’_)(_âˆˆáµ¢_)) â¦„ â†’ _
    â„˜ = inferArg [âˆƒ]-witness

    â‹ƒ : â¦ƒ âˆƒ(BigUnionOperator(_âˆˆâ‚’_)(_âˆˆáµ¢_)) â¦„ â†’ _
    â‹ƒ = inferArg [âˆƒ]-witness

    â‹‚ : â¦ƒ âˆƒ(BigIntersectionOperator(_âˆˆâ‚’_)(_âˆˆáµ¢_)) â¦„ â†’ _
    â‹‚ = inferArg [âˆƒ]-witness

  module _ {I : Type{â„“}} â¦ƒ equiv-I : Equiv{â„“â‚—â‚}(I) â¦„ â¦ƒ equiv-E : Equiv{â„“â‚—â‚‚}(E) â¦„ (_âˆˆ_ : _) â¦ƒ setLike : SetLike{â„“â‚}{â„“â‚‚}{â„“â‚ƒ}{C}{E} (_âˆˆ_) {â„“â‚„}{â„“â‚…} â¦„ where
    â‹ƒáµ¢ : â¦ƒ âˆƒ(IndexedBigUnionOperator{I = I}(_âˆˆ_)) â¦„ â†’ _
    â‹ƒáµ¢ = inferArg [âˆƒ]-witness

    â‹‚áµ¢ : â¦ƒ âˆƒ(IndexedBigIntersectionOperator{I = I}(_âˆˆ_)) â¦„ â†’ _
    â‹‚áµ¢ = inferArg [âˆƒ]-witness

{-
open SetLike â¦ƒ â€¦ â¦„
  using (
    _âˆˆ_ ; _âŠ†_ ; _â‰¡_ ;
    _âˆ‹_ ; _âŠ‡_ ;
    _âˆ‰_ ; _âŠˆ_ ; _âŠ‰_ ; _â‰¢_ ;
    âˆ… ; _âˆª_ ; _âˆ©_ ; _âˆ–_ ;
    singleton ; add ; remove
  )
-}
